services:
  wholebody-pose-cpu:
    build:
      context: ..                       # ðŸ‘ˆ el build context es el root
      dockerfile: docker/Dockerfile.cpu
    image: wholebody-pose-cpu          # ðŸ‘ˆ fuerza el nombre de la imagen
    container_name: wholebody-pose-cpu # ðŸ‘ˆ nombre del contenedor
    deploy:
      resources:
        limits:
          memory: 8g
          cpus: '4.0'
    volumes:
      - ../:/workspace
    ports:
      - "8888:8888"
    environment:      
      - DISPLAY=host.docker.internal:0.0
    stdin_open: true
    tty: true

# from root of the project:
#docker compose -f docker/docker-compose-cpu.yaml up --build
